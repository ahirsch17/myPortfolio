<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Science-Based Effort Tracker</title>

  <style>

    * {

      margin: 0;

      padding: 0;

      box-sizing: border-box;

    }



    :root {

      color-scheme: dark;

      --sky-400: #38bdf8;

      --sky-500: #0ea5e9;

      --emerald-400: #34d399;

      --emerald-500: #10b981;

      --orange-400: #fb923c;

      --orange-500: #f97316;

      --purple-400: #a78bfa;

      --purple-500: #8b5cf6;

      --slate-300: #cbd5e1;

      --slate-400: #94a3b8;

      --slate-500: #64748b;

      --slate-700: #334155;

      --slate-800: #1e293b;

      --slate-900: #0f172a;

      --white: #ffffff;

    }



    body {

      background: radial-gradient(circle at 50% -20%, rgba(37,99,235,0.35), rgba(15,23,42,0.92));

      min-height: 100vh;

      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

      color: var(--slate-300);

      line-height: 1.5;

    }



    .glass {

      background: rgba(15, 23, 42, 0.75);

      backdrop-filter: blur(18px);

      border: 1px solid rgba(148, 163, 184, 0.22);

    }



    .rounded-2xl { border-radius: 1rem; }

    .rounded-3xl { border-radius: 1.5rem; }

    .rounded-full { border-radius: 9999px; }



    .text-xs { font-size: 0.75rem; }

    .text-sm { font-size: 0.875rem; }

    .text-lg { font-size: 1.125rem; }

    .text-xl { font-size: 1.25rem; }

    .text-2xl { font-size: 1.5rem; }

    .text-3xl { font-size: 1.875rem; }



    .font-medium { font-weight: 500; }

    .font-semibold { font-weight: 600; }

    .font-bold { font-weight: 700; }



    .flex { display: flex; }

    .grid { display: grid; }

    .hidden { display: none; }

    .items-center { align-items: center; }

    .items-start { align-items: flex-start; }

    .justify-center { justify-content: center; }

    .justify-between { justify-content: space-between; }

    .justify-start { justify-content: flex-start; }



    .gap-2 { gap: 0.5rem; }

    .gap-3 { gap: 0.75rem; }

    .gap-4 { gap: 1rem; }

    .gap-6 { gap: 1.5rem; }



    .space-y-2 > * + * { margin-top: 0.5rem; }

    .space-y-3 > * + * { margin-top: 0.75rem; }

    .space-y-4 > * + * { margin-top: 1rem; }

    .space-y-6 > * + * { margin-top: 1.5rem; }



    .p-3 { padding: 0.75rem; }

    .p-4 { padding: 1rem; }

    .p-5 { padding: 1.25rem; }

    .p-6 { padding: 1.5rem; }

    .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }

    .px-4 { padding-left: 1rem; padding-right: 1rem; }

    .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }

    .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }



    .mb-2 { margin-bottom: 0.5rem; }

    .mb-3 { margin-bottom: 0.75rem; }

    .mb-4 { margin-bottom: 1rem; }

    .mb-6 { margin-bottom: 1.5rem; }

    .mt-2 { margin-top: 0.5rem; }

    .mt-4 { margin-top: 1rem; }



    .w-full { width: 100%; }

    .min-h-screen { min-height: 100vh; }



    .text-center { text-align: center; }

    .text-white { color: var(--white); }

    .text-sky-400 { color: var(--sky-400); }

    .text-orange-400 { color: var(--orange-400); }

    .text-emerald-400 { color: var(--emerald-400); }

    .text-purple-400 { color: var(--purple-400); }

    .text-slate-300 { color: var(--slate-300); }

    .text-slate-400 { color: var(--slate-400); }



    .bg-sky-500 { background-color: var(--sky-500); }

    .bg-emerald-500 { background-color: var(--emerald-500); }

    .bg-orange-500 { background-color: var(--orange-500); }

    .bg-purple-500 { background-color: var(--purple-500); }

    .bg-slate-700 { background-color: var(--slate-700); }

    .bg-slate-800 { background-color: var(--slate-800); }

    .bg-slate-800\\/50 { background-color: rgba(30, 41, 59, 0.5); }



    .border { border-width: 1px; }

    .border-slate-700 { border-color: var(--slate-700); }



    .cursor-pointer { cursor: pointer; }

    .transition-all { transition: all 0.3s ease; }



    .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }

    .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }



    .relative { position: relative; }

    .absolute { position: absolute; }

    .fixed { position: fixed; }

    .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }

    .z-50 { z-index: 50; }



    .max-w-md { max-width: 28rem; }

    .max-w-2xl { max-width: 42rem; }

    .max-h-\[90vh\] { max-height: 90vh; }



    .overflow-y-auto { overflow-y: auto; }



    .loading-spinner {

      border: 3px solid rgba(148, 163, 184, 0.3);

      border-radius: 50%;

      border-top: 3px solid var(--sky-400);

      width: 40px;

      height: 40px;

      animation: spin 1s linear infinite;

    }



    @keyframes spin {

      0% { transform: rotate(0deg); }

      100% { transform: rotate(360deg); }

    }



    button {

      background: rgba(15, 23, 42, 0.75);

      border: 1px solid rgba(148, 163, 184, 0.22);

      border-radius: 1rem;

      color: var(--slate-300);

      padding: 1rem 1.5rem;

      cursor: pointer;

      outline: none;

      transition: all 0.3s ease;

      font-size: 1rem;

      font-weight: 600;

    }



    button:hover {

      background: rgba(255, 255, 255, 0.1);

      transform: translateY(-2px);

    }



    button.primary {

      background: var(--sky-500);

      color: white;

      border: none;

    }



    button.primary:hover {

      background: var(--sky-400);

    }



    .workout-type-btn {

      padding: 1.5rem;

      border-radius: 1rem;

      border: 2px solid var(--slate-700);

      background: transparent;

      transition: all 0.3s ease;

      text-align: center;

    }



    .workout-type-btn:hover {

      border-color: var(--sky-400);

      transform: translateY(-2px);

    }



    .workout-type-btn.selected {

      border-color: var(--sky-500);

      background: rgba(14, 165, 233, 0.1);

    }



    .rpe-btn {

      padding: 0.75rem 1rem;

      border-radius: 0.75rem;

      border: 2px solid var(--slate-700);

      background: transparent;

      transition: all 0.3s ease;

      text-align: center;

    }



    .rpe-btn.selected {

      border-color: var(--emerald-500);

      background: var(--emerald-500);

      color: white;

    }



    .science-card {

      border-left: 4px solid var(--purple-500);

      background: rgba(139, 92, 246, 0.1);

    }



    .progress-bar {

      width: 100%;

      height: 8px;

      background: var(--slate-700);

      border-radius: 4px;

      overflow: hidden;

    }



    .progress-fill {

      height: 100%;

      background: var(--emerald-500);

      transition: width 0.3s ease;

    }



    .effort-badge {

      padding: 0.25rem 0.75rem;

      border-radius: 1rem;

      font-size: 0.75rem;

      font-weight: 600;

      background: var(--slate-700);

      color: var(--slate-300);

    }



    .effort-badge.high {

      background: #ef4444;

      color: white;

    }



    .effort-badge.medium {

      background: var(--orange-500);

      color: white;

    }



    .effort-badge.low {

      background: var(--emerald-500);

      color: white;

    }



    @media (min-width: 768px) {

      .md\\:p-6 { padding: 1.5rem; }

      .md\\:text-3xl { font-size: 1.875rem; }

      .md\\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }

    }

  </style>

</head>

<body>

  <div id="root">

    <div class="flex flex-col items-center justify-center min-h-screen">

      <div class="glass rounded-3xl p-8 max-w-md text-center">

        <div class="loading-spinner mx-auto mb-4"></div>

        <h2 class="text-xl font-bold text-white mb-2">Loading Science-Based Effort Tracker</h2>

        <p class="text-slate-400">Initializing research-backed algorithms...</p>

      </div>

    </div>

  </div>



  <script>

    function initializeApp() {

      // Science-based effort calculation algorithms

      

      // Cardio: TRIMP-based calculation (Banister, 1991)

      function calculateCardioEffort(hrData, duration) {

        // Simplified TRIMP: sum of zone weights √ó duration

        const zoneWeights = {

          zone1: 1,  // 50-60% HRmax - very light

          zone2: 2,  // 60-70% HRmax - light

          zone3: 3,  // 70-80% HRmax - moderate

          zone4: 4,  // 80-90% HRmax - hard

          zone5: 5   // 90-100% HRmax - maximum

        };

        

        let totalEffort = 0;

        hrData.forEach(minute => {

          const zone = getHRZone(minute.hr);

          totalEffort += zoneWeights[zone];

        });

        

        return Math.min(totalEffort, 100); // Normalize to 0-100 scale

      }

      

      function getHRZone(hr) {

        // Simplified zones based on typical max HR of 190

        if (hr < 114) return 'zone1';

        if (hr < 133) return 'zone2';

        if (hr < 152) return 'zone3';

        if (hr < 171) return 'zone4';

        return 'zone5';

      }

      

      // Strength: RPE-based calculation (Schoenfeld et al., 2017)

      function calculateStrengthEffort(sets, rpeValues) {

        // Based on research: volume √ó proximity to failure drives hypertrophy

        const rpeMultipliers = {

          6: 0.25,  // 4 reps in reserve

          7: 0.5,   // 3 reps in reserve

          8: 0.75,  // 2 reps in reserve

          9: 0.9,   // 1 rep in reserve

          10: 1.0   // Failure

        };

        

        let totalEffort = 0;

        sets.forEach((set, index) => {

          const rpe = rpeValues[index] || 6;

          const setEffort = 10 * (rpeMultipliers[rpe] || 0.25); // Base 10 points per set

          totalEffort += setEffort;

        });

        

        return Math.min(totalEffort, 100); // Normalize to 0-100 scale

      }

      

      // Acute:Chronic Workload Ratio (Gabbett, 2016)

      function calculateACWR(recentEffort, historicalEffort) {

        if (historicalEffort === 0) return 1.0;

        return recentEffort / historicalEffort;

      }

      

      function getACWRRecommendation(ratio) {

        if (ratio < 0.8) return { level: 'low', message: 'Consider increasing training load', color: 'text-emerald-400' };

        if (ratio <= 1.3) return { level: 'optimal', message: 'Ideal training zone', color: 'text-sky-400' };

        if (ratio <= 1.5) return { level: 'caution', message: 'Moderate injury risk', color: 'text-orange-400' };

        return { level: 'high', message: 'High injury risk - reduce load', color: 'text-red-400' };

      }



      // Application state

      const state = {

        currentView: 'science',

        workoutType: null,

        workoutData: {

          cardio: { duration: 30, avgHR: 145, hrZones: { zone1: 5, zone2: 10, zone3: 10, zone4: 5, zone5: 0 } },

          strength: { sets: 12, avgRPE: 8, muscleGroups: ['chest', 'back', 'legs'] }

        },

        trainingHistory: {

          cardio: [45, 52, 38, 61, 48, 55, 42],

          strength: [68, 72, 65, 78, 70, 75, 68],

          dates: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6', 'Week 7']

        }

      };



      function calculateCurrentEffort() {

        if (state.workoutType === 'cardio') {

          const hrData = Array(state.workoutData.cardio.duration).fill().map(() => ({

            hr: state.workoutData.cardio.avgHR + (Math.random() - 0.5) * 20

          }));

          return calculateCardioEffort(hrData, state.workoutData.cardio.duration);

        } else {

          const sets = Array(state.workoutData.strength.sets).fill(1);

          const rpeValues = Array(state.workoutData.strength.sets).fill(state.workoutData.strength.avgRPE);

          return calculateStrengthEffort(sets, rpeValues);

        }

      }



      function getScientificExplanation(type, score) {

        const explanations = {

          cardio: {

            low: "Light cardio stress. Good for recovery and base building. TRIMP score reflects minimal cardiovascular adaptation stimulus.",

            medium: "Moderate cardio load. Effective for improving VO2 max and endurance. TRIMP model shows good training impulse for aerobic development.",

            high: "High cardio stress. Significant stimulus for cardiovascular adaptation. May require longer recovery for optimal adaptation."

          },

          strength: {

            low: "Minimal mechanical tension. Suitable for technical practice or active recovery. Research shows hypertrophy requires greater effort.",

            medium: "Good training volume. Schoenfeld et al. (2017) show this level supports muscle growth when sustained weekly.",

            high: "High mechanical stress. Significant stimulus for hypertrophy and strength gains. Monitor recovery to avoid overtraining."

          }

        };

        

        let level = 'medium';

        if (score < 40) level = 'low';

        if (score > 70) level = 'high';

        

        return explanations[type][level];

      }



      // Main rendering function

      function renderApp() {

        const root = document.getElementById('root');

        

        if (state.currentView === 'science') {

          renderScienceView(root);

        } else if (state.currentView === 'demo') {

          renderDemoView(root);

        } else if (state.currentView === 'results') {

          renderResultsView(root);

        }

      }



      function renderScienceView(root) {

        root.innerHTML = `

          <div class="min-h-screen p-4 md:p-6">

            <header class="text-center mb-8">

              <h1 class="text-3xl font-bold text-white mb-4">Science-Based Effort Tracking</h1>

              <p class="text-slate-400 text-lg">Backed by decades of sports science research</p>

            </header>

            

            <!-- Science Explanation -->

            <div class="science-card glass rounded-3xl p-6 mb-6">

              <h2 class="text-xl font-semibold text-white mb-4">üéØ Why Effort Matters More Than Numbers</h2>

              <div class="space-y-4 text-slate-300">

                <p><strong>Cardio:</strong> Your body adapts based on <strong>intensity √ó duration</strong> (TRIMP model). More minutes at higher heart rate zones = greater cardiovascular stimulus.</p>

                <p><strong>Strength:</strong> Muscle growth responds to <strong>weekly hard sets √ó proximity to failure</strong> (RPE). Not just total weight lifted.</p>

                <p class="text-sm text-purple-400">Based on Banister (1991) TRIMP and Schoenfeld et al. (2017) hypertrophy research</p>

              </div>

            </div>

            

            <!-- Key Research Points -->

            <div class="glass rounded-3xl p-6 mb-6">

              <h2 class="text-xl font-semibold text-white mb-4">üìö Scientific Foundation</h2>

              <div class="space-y-4">

                <div>

                  <h3 class="font-semibold text-sky-400 mb-2">TRIMP (Training Impulse)</h3>

                  <p class="text-slate-400 text-sm">Heart rate zones √ó duration quantifies cardio training load. Validated in endurance athletes.</p>

                </div>

                <div>

                  <h3 class="font-semibold text-orange-400 mb-2">Session RPE</h3>

                  <p class="text-slate-400 text-sm">Perceived exertion √ó duration correlates with physiological markers of training stress.</p>

                </div>

                <div>

                  <h3 class="font-semibold text-emerald-400 mb-2">Hypertrophy Research</h3>

                  <p class="text-slate-400 text-sm">Muscle growth occurs across load ranges when sets are taken close to failure (Schoenfeld et al., 2017).</p>

                </div>

              </div>

            </div>

            

            <!-- Start Demo -->

            <div class="text-center">

              <button class="primary w-full max-w-md py-4 text-lg" onclick="app.setState({ currentView: 'demo' })">

                Try Science-Based Demo

              </button>

            </div>

          </div>

        `;

      }



      function renderDemoView(root) {

        const currentEffort = calculateCurrentEffort();

        const effortLevel = currentEffort < 40 ? 'low' : currentEffort < 70 ? 'medium' : 'high';

        

        root.innerHTML = `

          <div class="min-h-screen p-4 md:p-6">

            <header class="flex items-center justify-between mb-6">

              <div>

                <h1 class="text-2xl font-bold text-white">Effort Tracker Demo</h1>

                <p class="text-slate-400">See science-based effort calculation in action</p>

              </div>

              <button onclick="app.setState({ currentView: 'science' })" class="px-4 py-2">

                ‚Üê Back

              </button>

            </header>

            

            <!-- Workout Type Selection -->

            <div class="glass rounded-3xl p-6 mb-6">

              <h2 class="text-xl font-semibold text-white mb-4">Select Workout Type</h2>

              <div class="grid grid-cols-2 gap-4">

                <div class="workout-type-btn ${state.workoutType === 'cardio' ? 'selected' : ''}" 

                     onclick="app.setWorkoutType('cardio')">

                  <div class="text-2xl mb-2">üèÉ</div>

                  <div class="font-semibold text-white">Cardio</div>

                  <div class="text-slate-400 text-sm">TRIMP-based effort</div>

                </div>

                <div class="workout-type-btn ${state.workoutType === 'strength' ? 'selected' : ''}" 

                     onclick="app.setWorkoutType('strength')">

                  <div class="text-2xl mb-2">üèãÔ∏è</div>

                  <div class="font-semibold text-white">Strength</div>

                  <div class="text-slate-400 text-sm">RPE-based effort</div>

                </div>

              </div>

            </div>

            

            ${state.workoutType ? `

              <!-- Workout Parameters -->

              <div class="glass rounded-3xl p-6 mb-6">

                <h2 class="text-xl font-semibold text-white mb-4">Workout Parameters</h2>

                ${state.workoutType === 'cardio' ? `

                  <div class="space-y-4">

                    <div>

                      <label class="text-slate-400 block mb-2">Duration: ${state.workoutData.cardio.duration} minutes</label>

                      <input type="range" min="10" max="120" value="${state.workoutData.cardio.duration}" 

                             oninput="app.updateCardioParam('duration', this.value)" class="w-full">

                    </div>

                    <div>

                      <label class="text-slate-400 block mb-2">Average Heart Rate: ${state.workoutData.cardio.avgHR} bpm</label>

                      <input type="range" min="100" max="190" value="${state.workoutData.cardio.avgHR}" 

                             oninput="app.updateCardioParam('avgHR', this.value)" class="w-full">

                    </div>

                  </div>

                ` : `

                  <div class="space-y-4">

                    <div>

                      <label class="text-slate-400 block mb-2">Total Sets: ${state.workoutData.strength.sets}</label>

                      <input type="range" min="5" max="25" value="${state.workoutData.strength.sets}" 

                             oninput="app.updateStrengthParam('sets', this.value)" class="w-full">

                    </div>

                    <div>

                      <label class="text-slate-400 block mb-2">Average RPE: ${state.workoutData.strength.avgRPE}/10</label>

                      <input type="range" min="6" max="10" value="${state.workoutData.strength.avgRPE}" 

                             oninput="app.updateStrengthParam('avgRPE', this.value)" class="w-full">

                      <div class="text-xs text-slate-400 mt-2">

                        RPE Scale: 6=Easy, 8=Hard, 10=Maximum

                      </div>

                    </div>

                  </div>

                `}

              </div>

              

              <!-- Live Effort Calculation -->

              <div class="glass rounded-3xl p-6 mb-6">

                <h2 class="text-xl font-semibold text-white mb-4">Live Effort Calculation</h2>

                <div class="text-center">

                  <div class="text-4xl font-bold text-emerald-400 mb-2">${currentEffort.toFixed(1)}</div>

                  <div class="effort-badge ${effortLevel}">${effortLevel.toUpperCase()} EFFORT</div>

                  <div class="text-slate-400 mt-4 text-sm">

                    ${getScientificExplanation(state.workoutType, currentEffort)}

                  </div>

                </div>

              </div>

              

              <!-- Algorithm Details -->

              <div class="glass rounded-3xl p-6">

                <h2 class="text-xl font-semibold text-white mb-4">Science Behind the Score</h2>

                ${state.workoutType === 'cardio' ? `

                  <div class="space-y-3 text-sm">

                    <div class="flex justify-between">

                      <span class="text-slate-400">Zone 1 (Very Light):</span>

                      <span class="text-white">${state.workoutData.cardio.hrZones.zone1} min √ó 1 = ${state.workoutData.cardio.hrZones.zone1}</span>

                    </div>

                    <div class="flex justify-between">

                      <span class="text-slate-400">Zone 2 (Light):</span>

                      <span class="text-white">${state.workoutData.cardio.hrZones.zone2} min √ó 2 = ${state.workoutData.cardio.hrZones.zone2 * 2}</span>

                    </div>

                    <div class="flex justify-between">

                      <span class="text-slate-400">Zone 3 (Moderate):</span>

                      <span class="text-white">${state.workoutData.cardio.hrZones.zone3} min √ó 3 = ${state.workoutData.cardio.hrZones.zone3 * 3}</span>

                    </div>

                    <div class="flex justify-between">

                      <span class="text-slate-400">Zone 4 (Hard):</span>

                      <span class="text-white">${state.workoutData.cardio.hrZones.zone4} min √ó 4 = ${state.workoutData.cardio.hrZones.zone4 * 4}</span>

                    </div>

                    <div class="flex justify-between border-t border-slate-700 pt-2">

                      <span class="text-slate-400">Total TRIMP Score:</span>

                      <span class="text-white font-semibold">${currentEffort.toFixed(1)}</span>

                    </div>

                  </div>

                ` : `

                  <div class="space-y-3 text-sm">

                    <div class="flex justify-between">

                      <span class="text-slate-400">Total Sets:</span>

                      <span class="text-white">${state.workoutData.strength.sets}</span>

                    </div>

                    <div class="flex justify-between">

                      <span class="text-slate-400">Average RPE:</span>

                      <span class="text-white">${state.workoutData.strength.avgRPE}/10</span>

                    </div>

                    <div class="flex justify-between">

                      <span class="text-slate-400">Effort Multiplier:</span>

                      <span class="text-white">${(state.workoutData.strength.avgRPE * 0.1).toFixed(2)}</span>

                    </div>

                    <div class="flex justify-between border-t border-slate-700 pt-2">

                      <span class="text-slate-400">Strength Effort Score:</span>

                      <span class="text-white font-semibold">${currentEffort.toFixed(1)}</span>

                    </div>

                  </div>

                `}

              </div>

              

              <button class="primary w-full mt-6 py-4" onclick="app.setState({ currentView: 'results' })">

                View Training Progress

              </button>

            ` : ''}

          </div>

        `;

      }



      function renderResultsView(root) {

        const recentCardio = state.trainingHistory.cardio[state.trainingHistory.cardio.length - 1];

        const recentStrength = state.trainingHistory.strength[state.trainingHistory.strength.length - 1];

        const avgCardio = state.trainingHistory.cardio.reduce((a, b) => a + b, 0) / state.trainingHistory.cardio.length;

        const avgStrength = state.trainingHistory.strength.reduce((a, b) => a + b, 0) / state.trainingHistory.strength.length;

        

        const cardioACWR = calculateACWR(recentCardio, avgCardio);

        const strengthACWR = calculateACWR(recentStrength, avgStrength);

        const cardioACWRInfo = getACWRRecommendation(cardioACWR);

        const strengthACWRInfo = getACWRRecommendation(strengthACWR);



        root.innerHTML = `

          <div class="min-h-screen p-4 md:p-6">

            <header class="flex items-center justify-between mb-6">

              <div>

                <h1 class="text-2xl font-bold text-white">Training Progress</h1>

                <p class="text-slate-400">7-week training load analysis</p>

              </div>

              <button onclick="app.setState({ currentView: 'demo' })" class="px-4 py-2">

                ‚Üê Back

              </button>

            </header>

            

            <!-- ACWR Analysis -->

            <div class="glass rounded-3xl p-6 mb-6">

              <h2 class="text-xl font-semibold text-white mb-4">Training Load Management</h2>

              <div class="space-y-4">

                <div>

                  <div class="flex justify-between items-center mb-2">

                    <span class="text-slate-400">Cardio ACWR:</span>

                    <span class="${cardioACWRInfo.color} font-semibold">${cardioACWR.toFixed(2)} (${cardioACWRInfo.level})</span>

                  </div>

                  <div class="text-sm text-slate-400">${cardioACWRInfo.message}</div>

                </div>

                <div>

                  <div class="flex justify-between items-center mb-2">

                    <span class="text-slate-400">Strength ACWR:</span>

                    <span class="${strengthACWRInfo.color} font-semibold">${strengthACWR.toFixed(2)} (${strengthACWRInfo.level})</span>

                  </div>

                  <div class="text-sm text-slate-400">${strengthACWRInfo.message}</div>

                </div>

              </div>

            </div>

            

            <!-- Progress Charts -->

            <div class="glass rounded-3xl p-6">

              <h2 class="text-xl font-semibold text-white mb-4">Weekly Effort Trends</h2>

              <div class="space-y-6">

                <div>

                  <h3 class="text-sky-400 font-semibold mb-3">Cardio Effort (TRIMP-based)</h3>

                  ${state.trainingHistory.cardio.map((score, index) => `

                    <div class="flex items-center justify-between mb-2">

                      <span class="text-slate-400 text-sm">${state.trainingHistory.dates[index]}</span>

                      <div class="flex items-center gap-3">

                        <div class="progress-bar" style="width: 100px">

                          <div class="progress-fill" style="width: ${score}%"></div>

                        </div>

                        <span class="text-white text-sm w-8">${score}</span>

                      </div>

                    </div>

                  `).join('')}

                </div>

                <div>

                  <h3 class="text-orange-400 font-semibold mb-3">Strength Effort (RPE-based)</h3>

                  ${state.trainingHistory.strength.map((score, index) => `

                    <div class="flex items-center justify-between mb-2">

                      <span class="text-slate-400 text-sm">${state.trainingHistory.dates[index]}</span>

                      <div class="flex items-center gap-3">

                        <div class="progress-bar" style="width: 100px">

                          <div class="progress-fill" style="width: ${score}%"></div>

                        </div>

                        <span class="text-white text-sm w-8">${score}</span>

                      </div>

                    </div>

                  `).join('')}

                </div>

              </div>

            </div>

            

            <!-- Research Summary -->

            <div class="glass rounded-3xl p-6 mt-6">

              <h2 class="text-xl font-semibold text-white mb-4">Evidence-Based Training</h2>

              <div class="space-y-3 text-sm text-slate-400">

                <p>‚Ä¢ <strong>TRIMP scores</strong> quantify cardio training load based on heart rate zones √ó duration (Banister, 1991)</p>

                <p>‚Ä¢ <strong>RPE-based effort</strong> tracks strength training quality using proximity to failure (Schoenfeld et al., 2017)</p>

                <p>‚Ä¢ <strong>ACWR (1.0-1.3)</strong> represents optimal training load range for adaptation (Gabbett, 2016)</p>

              </div>

            </div>

          </div>

        `;

      }



      // Expose functions globally

      window.app = {

        setState: (newState) => {

          Object.assign(state, newState);

          renderApp();

        },

        setWorkoutType: (type) => {

          state.workoutType = type;

          renderApp();

        },

        updateCardioParam: (param, value) => {

          state.workoutData.cardio[param] = parseInt(value);

          renderApp();

        },

        updateStrengthParam: (param, value) => {

          state.workoutData.strength[param] = parseInt(value);

          renderApp();

        }

      };



      // Initial render

      renderApp();

    }



    // Start the application

    setTimeout(initializeApp, 100);

  </script>

</body>

</html>
